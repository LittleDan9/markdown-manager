// ─── INLINE CODE ───
// ─── INLINE CODE ───
#previewContainer #preview .preview-scroll p > code:not([class*="language-"]) {
  color: #e83e8c; // Bootstrap magenta for light theme
  background: #f8f9fa;
  border-radius: 4px;
  padding: 2px 4px;
  font-size: 0.95em;
}

[data-bs-theme="dark"] #previewContainer #preview .preview-scroll p > code:not([class*="language-"]) {
  color: #f7e06e !important; // Muted yellow for dark theme
  background: #232323 !important;
}
// ─── PREVIEW PANE STYLES ───
// ─── MARKDOWN LISTS ───
#previewContainer #preview .preview-scroll ul,
#previewContainer #preview .preview-scroll ol {
  margin: 1rem 0 1rem 2rem;
  padding-left: 1.5rem;
}

[data-bs-theme="dark"] #previewContainer #preview .preview-scroll ul,
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll ol {
  color: #fff;
}

// ─── HORIZONTAL RULES ───
#previewContainer #preview .preview-scroll hr {
  border: none;
  border-top: 2px solid #212529;
  margin: 2rem 0;
}
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll hr {
  border-top: 2px solid #666;
}

// ─── HEADINGS ───
#previewContainer #preview .preview-scroll h1,
#previewContainer #preview .preview-scroll h2,
#previewContainer #preview .preview-scroll h3,
#previewContainer #preview .preview-scroll h4,
#previewContainer #preview .preview-scroll h5,
#previewContainer #preview .preview-scroll h6 {
  font-weight: bold;
  margin-top: 2rem;
  margin-bottom: 1rem;
  line-height: 1.2;
}
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll h1,
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll h2,
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll h3,
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll h4,
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll h5,
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll h6 {
  color: #fff;
}

// ─── IMAGES ───
#previewContainer #preview .preview-scroll img {
  max-width: 100%;
  height: auto;
  border-radius: 0.25rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  margin: 1rem 0;
}

// ─── LINKS ───
#previewContainer #preview .preview-scroll a {
  color: #0d6efd;
  text-decoration: underline;
  transition: color 0.2s;
}
#previewContainer #preview .preview-scroll a:hover {
  color: #0056b3;
}
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll a {
  color: #66b3ff;
}
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll a:hover {
  color: #99ccff;
}

// ─── INLINE CODE (already styled in .pdf-export-mode) ───

// ─── BLOCKQUOTES (already styled above) ───

// ─── TABLES (already styled above) ───

// ─── STRONG/EMPHASIS ───
#previewContainer #preview .preview-scroll strong,
#previewContainer #preview .preview-scroll b {
  font-weight: bold;
}
#previewContainer #preview .preview-scroll em,
#previewContainer #preview .preview-scroll i {
  font-style: italic;
}

[data-bs-theme="dark"] #previewContainer #preview .preview-scroll strong,
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll b {
  color: #fff;
}
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll em,
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll i {
  color: #cccccc;
}

// ─── PREFORMATTED TEXT ───
#previewContainer #preview .preview-scroll pre {
  background: #f8f9fa;
  color: #212529;
  border-radius: 0.25rem;
  padding: 1rem;
  overflow-x: auto;
  margin: 1rem 0;
}
[data-bs-theme="dark"] #previewContainer #preview .preview-scroll pre {
  background: #2d2d2d;
  color: #f8f8f2;
}

// Align preview controls with the preview div
#previewControls {
  // Calculate the right margin to align with preview div
  // This takes into account the padding and position of the preview container
  margin-right: calc(1rem); // Match the previewContainer padding
}

#previewContainer {
  #preview {
    .preview-scroll {
      blockquote {
        color: #6c757d;
        border-left: 4px solid #dee2e6;
        background-color: #f8f9fa;
        padding: 1rem;
        margin: 1rem 0;
        border-radius: 4px;;
        p {
          margin: 0;
        }
      }
    }
  }
}

[data-bs-theme="dark"] #previewContainer #preview .preview-scroll blockquote {
  color: #cccccc;
  border-left: 4px solid #666;
  background-color: #2d2d2d;
}

// PDF Export styling for different themes
// ─── MARKDOWN TABLE STYLES ───
#previewContainer #preview .preview-scroll table {
  border-collapse: collapse;
  /* width: 100%; removed to allow table to shrink to fit content */
  margin-bottom: 1rem;
  background: #fff;
  th, td {
    border: 2px solid #212529;
    padding: 0.75rem;
    text-align: left;
  }
  th {
    font-weight: bold;
    background: #f8f9fa;
  }
  tr:nth-child(even) td {
    background: #f3f3f3;
  }
}

[data-bs-theme="dark"] #previewContainer #preview .preview-scroll table {
  border-collapse: collapse;
  /* width: 100%; removed to allow table to shrink to fit content */
  margin-bottom: 1rem;
  background: #2d2d2d;
  th, td {
    border: 2px solid #666;
    padding: 0.75rem;
    text-align: left;
    color: #fff;
  }
  th {
    font-weight: bold;
    background: #404040;
  }
  tr:nth-child(even) td {
    background: #353535;
  }
}
.pdf-export-mode {
  // Dark mode with good contrast
  &[data-theme="dark"] {
    color: #ffffff !important;
    background-color: #1a1a1a !important;

    * {
      color: #ffffff !important;
    }

    .preview-scroll {
      background-color: #1a1a1a !important;
      color: #ffffff !important;
    }

    // Dark theme code blocks with good contrast
    pre[class*="language-"] {
      background-color: #2d2d2d !important;
      color: #f8f8f2 !important;
      border: 1px solid #444 !important;
    }

    code:not([class*="language-"]) {
      background-color: #2d2d2d !important;
      color: #f7e06e !important;
      padding: 0.125rem 0.25rem !important;
      border-radius: 0.25rem !important;
    }

    // Mermaid diagrams with dark theme
    .mermaid {
      background-color: #2d2d2d !important;
      border: 1px solid #444 !important;
      border-radius: 0.25rem !important;
      padding: 1rem !important;

      * {
        fill: #ffffff !important;
        stroke: #ffffff !important;
        color: #ffffff !important;
      }

      // Specific mermaid elements
      .node rect,
      .node polygon,
      .node circle,
      .node ellipse {
        fill: #444 !important;
        stroke: #ffffff !important;
      }

      .edgePath path {
        stroke: #ffffff !important;
      }

      .edgeLabel {
        background-color: #2d2d2d !important;
        color: #ffffff !important;
      }
    }

    // Tables with dark theme
    table {
      color: #ffffff !important;
      background-color: #2d2d2d !important;
      border: 1px solid #444 !important;

      th,
      td {
        border-color: #444 !important;
        background-color: #2d2d2d !important;
        color: #ffffff !important;
      }

      thead th {
        background-color: #404040 !important;
        color: #ffffff !important;
      }
    }

    // Headings
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      color: #ffffff !important;
      border-bottom-color: #444 !important;
    }

    // Links
    a {
      color: #66b3ff !important;

      &:hover {
        color: #99ccff !important;
      }
    }

    // Blockquotes
    blockquote {
      color: #cccccc !important;
      border-left: 4px solid #666 !important;
      background-color: #2d2d2d !important;
      padding: 1rem !important;
      margin: 1rem 0 !important;
    }

    // Horizontal rules
    hr {
      border-color: #444 !important;
    }

    // Lists
    ul,
    ol {
      color: #ffffff !important;
    }

    // Strong and emphasis
    strong,
    b {
      color: #ffffff !important;
      font-weight: bold !important;
    }

    em,
    i {
      color: #cccccc !important;
      font-style: italic !important;
    }
  }

  // Light mode export
  &[data-theme="light"] {
    color: #212529 !important;
    background-color: #ffffff !important;

    * {
      color: inherit !important;
    }

    .preview-scroll {
      background-color: #ffffff !important;
      color: #212529 !important;
    }

    // Light theme code blocks
    pre[class*="language-"] {
      background-color: #f8f9fa !important;
      color: #212529 !important;
    }

    code {
      background-color: #f8f9fa !important;
      color: #e83e8c !important;
    }

    // Light theme mermaid diagrams
    .mermaid {
      background-color: #ffffff !important;

      * {
        fill: #000000 !important;
        stroke: #000000 !important;
        color: #000000 !important;
      }
    }

    // Tables
    table {
      color: #212529 !important;
      background-color: #ffffff !important;

      th,
      td {
        border-color: #dee2e6 !important;
        background-color: transparent !important;
      }
    }

    // Headings
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      color: #212529 !important;
    }

    // Links
    a {
      color: #0d6efd !important;
    }

    // Blockquotes
    blockquote {
      color: #6c757d !important;
      border-left-color: #dee2e6 !important;
    }
  }
}

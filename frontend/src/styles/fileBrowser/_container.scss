// File Browser Container Styles
// Main layout and structure for the unified file browser

.unified-file-browser {
  position: relative;
  z-index: 1;
  height: 100%;
  max-height: 100%; // Ensure it doesn't exceed container
  display: flex;
  flex-direction: column;
  overflow: hidden;

  // Loading state
  &.loading {
    opacity: 0.7;
    pointer-events: none;
  }

  // Breadcrumb section (fixed height)
  .breadcrumb-section {
    flex-shrink: 0;
    height: auto !important; // Force auto height
    min-height: 0 !important; // Force minimal height
    max-height: fit-content !important; // Force fit-content
    margin: 0; // Remove any default margins
    padding: 0; // Remove any default padding
    display: block; // Ensure block display (not flex)
    overflow: visible; // Ensure no overflow issues
  }

  // Main content area (flexible height)
  .file-browser-content {
    flex: 1;
    display: flex;
    overflow: hidden;
    position: relative;
    min-height: 0;
    max-height: 100%; // Prevent overflow
    margin: 0; // Remove any default margins
    padding: 0; // Remove any default padding

    // Tree panel (fixed width)
    .file-browser-tree-panel {
      width: 300px;
      flex-shrink: 0;
      border-right: 1px solid var(--bs-border-color);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      height: 100%;
      max-height: 100%;
    }

    // List panel (flexible width)
    .file-browser-list-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      min-width: 0;
      height: 100%;
      max-height: 100%;
    }

    // Preview panel (fixed width)
    .file-browser-preview-panel {
      width: 350px;
      flex-shrink: 0;
      border-left: 1px solid var(--bs-border-color);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      height: 100%;
      max-height: 100%;
    }

    // Bottom gradient
    .bottom-gradient {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 20px;
      background: linear-gradient(to top, rgba(var(--bs-body-bg-rgb), 0.9), transparent);
      pointer-events: none;
      z-index: 1;
    }
  }

  // Actions section (fixed height)
  .file-browser-actions-section {
    flex-shrink: 0;
    border-top: 1px solid var(--bs-border-color);
  }

  // Dark theme support for gradient
  [data-bs-theme="dark"] & {
    .bottom-gradient {
      background: linear-gradient(to top, rgba(33, 37, 41, 0.9), transparent) !important;
    }
  }
}
